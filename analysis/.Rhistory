opro[4,] <-  as.list(rep(1,n))
opro[5,] <-  as.list(rep(0,n))
P$scopt<- list(opro = opro)
P$dparam$intpnt_nl_tol_rel_gap <- rtol
z <- Rmosek::mosek(P, opts = list(verbose = 0))
if(z$response$code != 0)
stop(paste("Mosek error: ", z$response$msg))
status <- z$sol$itr$solsta
if (status != "OPTIMAL")
warning(paste("Solution status = ", status))
f <- z$sol$itr$suc
if(min(f) < 0) warning("estimated mixing distribution has some negative values:
consider reducing rtol")
g <- as.vector(t(A) %*% (f * rep(1,m)))
list(f = f, g = g, status = status)
}
t1 = system.time(L <- test0(100000,1.15))[3]
t2 = system.time(x <- test1(L))[3]
t1
t2
?flash_r1
library("flashr")
set.seed(10)
l = c(rep(0,500),rnorm(500))
f = rnorm(2000)
LF = outer(l,f)
Y = LF + rnorm(1000*2000)
data = flash_set_data(Y)
f1 = flash_r1(data)
?flash
?flash_r1
library("flashr")
set.seed(10)
l = c(rep(0,50000),rnorm(50000))
f = rnorm(2000)
LF = outer(l,f)
Y = LF + rnorm(100000*2000)
data = flash_set_data(Y)
f1 = flash_r1(data)
install.packages("elasticnet")
library(elasticnet)
install.packages("elasticnet")
library(elasticnet)
set.seed(1)
u <- matrix(rnorm(200), ncol=1)
v <- matrix(c(runif(50, min=0.1), rep(0,250)), ncol=1)
u <- u / drop(sqrt(crossprod(u)))
v <- v / drop(sqrt(crossprod(v)))
x <- v %*% t(v) + 0.01 * matrix(rnorm(200*300), ncol=300)
spca(x)
install.packages("elasticnet")
set.seed(1)
u <- matrix(rnorm(200), ncol=1)
v <- matrix(c(runif(50, min=0.1), rep(0,250)), ncol=1)
u <- u / drop(sqrt(crossprod(u)))
v <- v / drop(sqrt(crossprod(v)))
x <- v %*% t(v) + 0.01 * matrix(rnorm(200*300), ncol=300)
spca(x)
set.seed(1)
u <- matrix(rnorm(200), ncol=1)
v <- matrix(c(runif(50, min=0.1), rep(0,250)), ncol=1)
u <- u / drop(sqrt(crossprod(u)))
v <- v / drop(sqrt(crossprod(v)))
x <- v %*% t(v) + 0.01 * matrix(rnorm(300*300), ncol=300)
spca(x)
spca(x, K = 1)
load("~/git/mixopt-paper/output/results_for_plots.RData")
dat3_2
dat4_2
dat4_1
dat2_2
dat2_1
dat4_2
dat4_1
dat4_2$t1 = dat4_2$t1 * 1.2
p9 <- ggplot(data = dat4_1) +
geom_line(aes(x = m,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = m,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = m,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = m,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(10,30,100,500)) +
scale_y_continuous(trans = "log10",breaks = c(0.001,0.01,0.1,0.5)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of columns in L (m)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (n = 10,000)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.9))
# Create a plot comparing the runtime
p10 <- ggplot(data = dat4_2) +
geom_line(aes(x = n,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = n,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = n,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = n,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(1e3,1e4,4e5)) +
scale_y_continuous(breaks = c(0.001,0.002,0.004)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of rows in L (n)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (m = 40)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.5))
library(ggplot2)
library(cowplot)
# Colors used in some of the plots below.
colors <- c("#E69F00","#56B4E9","#009E73","#F0E442",
"#0072B2","#D55E00","#CC79A7")
p9 <- ggplot(data = dat4_1) +
geom_line(aes(x = m,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = m,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = m,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = m,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(10,30,100,500)) +
scale_y_continuous(trans = "log10",breaks = c(0.001,0.01,0.1,1.0)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of columns in L (m)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (n = 10,000)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.9))
# Create a plot comparing the runtime
p10 <- ggplot(data = dat4_2) +
geom_line(aes(x = n,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = n,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = n,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = n,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(1e3,1e4,4e5)) +
scale_y_continuous(breaks = c(0.001,0.002,0.004)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of rows in L (n)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (m = 40)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.5))
ggsave("../output/F4.pdf",plot_grid(p9,p10,p11,nrow = 1),height = 3.5,
width = 10.5)
setwd("~/git/mixopt-paper/analysis")
ggsave("../output/F4.pdf",plot_grid(p9,p10,p11,nrow = 1),height = 3.5,
width = 10.5)
# Create a plot comparing the runtime of the interior-point (MOSEK)
# and active-set methods for solving the QP subproblem.
p9 <- ggplot(data = dat4_1) +
geom_line(aes(x = m,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = m,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = m,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = m,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(10,30,100,500)) +
scale_y_continuous(trans = "log10",breaks = c(0.001,0.01,0.1,1.0)) +
ylim(0.001,1.0) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of columns in L (m)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (n = 10,000)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.9))
# Create a plot comparing the runtime
p10 <- ggplot(data = dat4_2) +
geom_line(aes(x = n,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = n,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = n,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = n,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(1e3,1e4,4e5)) +
scale_y_continuous(breaks = c(0.001,0.002,0.004)) +
ylim(0.001,0.004)
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of rows in L (n)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (m = 40)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.5))
# Create a plot comparing the runtime
p10 <- ggplot(data = dat4_2) +
geom_line(aes(x = n,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = n,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = n,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = n,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(1e3,1e4,4e5)) +
scale_y_continuous(breaks = c(0.001,0.002,0.004)) +
ylim(0.001,0.004) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of rows in L (n)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (m = 40)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.5))
ggsave("../output/F4.pdf",plot_grid(p9,p10,p11,nrow = 1),height = 3.5,
width = 10.5)
p9 <- ggplot(data = dat4_1) +
geom_line(aes(x = m,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = m,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = m,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = m,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(10,30,100,500)) +
scale_y_continuous(trans = "log10",breaks = c(0.001,0.01,0.1,0.5)) +
ylim(0.001,0.5) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of columns in L (m)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (n = 10,000)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.9))
# Create a plot comparing the runtime
p10 <- ggplot(data = dat4_2) +
geom_line(aes(x = n,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = n,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = n,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = n,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(1e3,1e4,4e5)) +
scale_y_continuous(breaks = c(0.001,0.002,0.004)) +
ylim(0.001,0.004) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of rows in L (n)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (m = 40)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.5))
ggsave("../output/F4.pdf",plot_grid(p9,p10,p11,nrow = 1),height = 3.5,
width = 10.5)
p9 <- ggplot(data = dat4_1) +
geom_line(aes(x = m,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = m,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = m,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = m,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(10,30,100,500)) +
scale_y_continuous(trans = "log10",breaks = c(0.001,0.01,0.1,0.5)) +
ylim(0.0005,0.5) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of columns in L (m)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (n = 10,000)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.9))
p9
dat4_1
p9 <- ggplot(data = dat4_1) +
geom_line(aes(x = m,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = m,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = m,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = m,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(10,30,100,500)) +
scale_y_continuous(trans = "log10",breaks = c(0.0001,0.001,0.01,0.1)) +
ylim(0.0001,0.1) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of columns in L (m)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (n = 10,000)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.9))
p9
p9 <- ggplot(data = dat4_1) +
geom_line(aes(x = m,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = m,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = m,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = m,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(10,30,100,500)) +
scale_y_continuous(trans = "log10",breaks = c(0.0001,0.001,0.01,0.1)) +
ylim(0.0001,0.4) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of columns in L (m)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (n = 10,000)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.9))
p9
# Create a plot comparing the runtime of the interior-point (MOSEK)
# and active-set methods for solving the QP subproblem.
p9 <- ggplot(data = dat4_1) +
geom_line(aes(x = m,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = m,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = m,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = m,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(10,30,100,500)) +
scale_y_continuous(trans = "log10",breaks = c(0.0001,0.001,0.01,0.1)) +
ylim(0.0001,1) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of columns in L (m)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (n = 10,000)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.9))
p9
p9 <- ggplot(data = dat4_1) +
geom_line(aes(x = m,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = m,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = m,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = m,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(10,30,100,500)) +
scale_y_continuous(trans = "log10",breaks = c(0.0001,0.001,0.01,0.1)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of columns in L (m)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (n = 10,000)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.9))
p9
p9 <- ggplot(data = dat4_1) +
geom_line(aes(x = m,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = m,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = m,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = m,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(10,30,100,500)) +
scale_y_continuous(trans = "log10",breaks = c(0.0005,0.001,0.005,0.01,0.05,0.1)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of columns in L (m)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (n = 10,000)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.9))
p9
p9 <- ggplot(data = dat4_1) +
geom_line(aes(x = m,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = m,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = m,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = m,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(10,30,100,500)) +
scale_y_continuous(trans = "log10",breaks = c(0.0002,0.001,0.005,0.025,0.125,0.625)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of columns in L (m)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (n = 10,000)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.9))
p9
p10 <- ggplot(data = dat4_2) +
geom_line(aes(x = n,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = n,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = n,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = n,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(1e3,1e4,4e5)) +
scale_y_continuous(breaks = c(0.001,0.002,0.004)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of rows in L (n)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (m = 40)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.5))
p10
p10 <- ggplot(data = dat4_2) +
geom_line(aes(x = n,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = n,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = n,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = n,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(1e3,1e4,4e5)) +
scale_y_continuous(breaks = c(0.0005,0.001,0.002,0.004)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of rows in L (n)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (m = 40)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.5))
p10
?scale_y_continuous
p10 <- ggplot(data = dat4_2) +
geom_line(aes(x = n,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = n,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = n,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = n,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(1e3,1e4,4e5)) +
scale_y_continuous(breaks = c(0.0005,0.001,0.002,0.004),limits=c(0.0005,0.004)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of rows in L (n)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (m = 40)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.5))
p10
p10 <- ggplot(data = dat4_2) +
geom_line(aes(x = n,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = n,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = n,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = n,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(1e3,1e4,4e5)) +
scale_y_continuous(trans = "log10",breaks = c(0.0005,0.001,0.002,0.004),limits=c(0.0005,0.004)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of rows in L (n)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (m = 40)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.5))
p10
p9
p10
dat4_2
dat4_1
dat4_2$t2 = dat4_2$t2/1.2
p10 <- ggplot(data = dat4_2) +
geom_line(aes(x = n,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = n,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = n,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = n,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(1e3,1e4,4e5)) +
scale_y_continuous(trans = "log10",breaks = c(0.0005,0.001,0.002,0.004),limits=c(0.0005,0.004)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of rows in L (n)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (m = 40)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.5))
ggsave("../output/F4.pdf",plot_grid(p9,p10,p11,nrow = 1),height = 3.5,
width = 10.5)
dat4_2
p10 <- ggplot(data = dat4_2) +
geom_line(aes(x = n,y = t1,color = "interior point (MOSEK)"),size = 1) +
geom_line(aes(x = n,y = t2,color = "active-set"),size = 1) +
geom_point(aes(x = n,y = t1,color = "interior point (MOSEK)"),
shape = 20,size = 3) +
geom_point(aes(x = n,y = t2,color = "active-set"),shape = 20,size = 3) +
scale_x_continuous(trans = "log10",breaks = c(1e3,1e4,4e5)) +
scale_y_continuous(trans = "log10",breaks = c(0.0005,0.001,0.002,0.004),limits=c(0.0004,0.004)) +
scale_color_manual(values = colors[c(6,2)],name = "") +
labs(x     = "number of rows in L (n)",
y     = "runtime (seconds)",
title = "solving the QP subproblem (m = 40)") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.05,0.5))
ggsave("../output/F4.pdf",plot_grid(p9,p10,p11,nrow = 1),height = 3.5,
width = 10.5)
save.image("~/git/mixopt-paper/output/results_for_plots.RData")
dat3_1
dat3_3
dat4_3
p11 <- ggplot(data = dat4_3[-14,]) +
geom_line(aes(x = iter,y = y,color = "nonzeros in q"),size = 1) +
geom_line(aes(x = iter,y = q,color = "nonzeros in y"),size = 1) +
geom_line(aes(x = iter,y = ls,color = "line search iterations"),size = 1) +
geom_point(aes(x = iter,y = y,color = "nonzeros in q"),
shape = 20,size = 3) +
geom_point(aes(x = iter,y = q,color = "nonzeros in y"),
shape = 20,size = 3) +
geom_point(aes(x = iter,y = ls,color = "line search iterations"),
shape = 20,size = 3) +
scale_x_continuous(breaks = c(1,5,10,13)) +
scale_y_continuous(breaks = c(0,5,10)) +
scale_color_manual(values = c("limegreen","darkblue","skyblue"),
name = "") +
labs(x     = "SQP iteration",
y     = "count",
title = "title goes here") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.4,0.89))
p11
ggsave("../output/F4.pdf",plot_grid(p9,p10,p11,nrow = 1),height = 3.5,
width = 10.5)
save.image("~/git/mixopt-paper/output/results_for_plots.RData")
# Create a plot
p11 <- ggplot(data = dat4_3[-14,]) +
geom_line(aes(x = iter,y = y,color = "nonzeros in q"),size = 1) +
geom_line(aes(x = iter,y = q,color = "nonzeros in y"),size = 1) +
geom_line(aes(x = iter,y = ls,color = "line search iterations"),size = 1) +
geom_point(aes(x = iter,y = y,color = "nonzeros in q"),
shape = 20,size = 3) +
geom_point(aes(x = iter,y = q,color = "nonzeros in y"),
shape = 20,size = 3) +
geom_point(aes(x = iter,y = ls,color = "line search iterations"),
shape = 20,size = 3) +
scale_x_continuous(breaks = c(1,5,10,13)) +
scale_y_continuous(breaks = c(0,5,10)) +
scale_color_manual(values = c("limegreen","darkblue","skyblue"),
name = "") +
labs(x     = "SQP iteration",
y     = "count",
title = "Important numbers in each iteration") +
theme(plot.title      = element_text(face = "plain",size = 12),
axis.line       = element_blank(),
legend.position = c(0.4,0.89))
ggsave("../output/F4.pdf",plot_grid(p9,p10,p11,nrow = 1),height = 3.5,
width = 10.5)
save.image("~/git/mixopt-paper/output/results_for_plots.RData")
